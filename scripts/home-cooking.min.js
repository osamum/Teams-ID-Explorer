var homeCook=homeCook||{};homeCook.DOMTemplate=class{static get oderBy(){return{ASC:0,DESC:1}}static bind(element,dataSource){try{if(null===element.attributes||void 0===element.attributes["data-app-option"])return}catch(exp){return}let optVlu=element.attributes["data-app-option"].value.replaceAll("'",'"');element.removeAttribute("data-app-option");let dataOpt=JSON.parse(optVlu);for(let propName in dataOpt)element[propName]=dataSource[dataOpt[propName]]}static traversalBind(node,dataSource){let nodeLength=node.childNodes.length;if(nodeLength>0){for(let i=0;i<nodeLength;i++)this.traversalBind(node.childNodes[i],dataSource);this.bind(node,dataSource)}else this.bind(node,dataSource)}static bindTemplate(targetDiv,dataSources,oderBy){let tpl=document.getElementById(targetDiv.attributes["data-template"].value).content;if(dataSources.length){let dataLength=dataSources.length;for(let i=0;i<dataLength;i++){let clone=tpl.cloneNode(!0);this.traversalBind(clone,dataSources[i]),targetDiv.appendChild(clone)}}else{let clone=tpl.cloneNode(!0);this.traversalBind(clone,dataSources),oderBy===this.oderBy.DESC?targetDiv.insertBefore(clone,targetDiv.firstChild):targetDiv.appendChild(clone)}}},homeCook.sparaterCtrl=class extends HTMLElement{constructor(){super(),this.dragInfo={startX:0,startY:0,isDrag:!1},this.target={leftUpDiv:null,leftUpOverFlow:{all:"auto",x:"auto",y:"auto"},letftUp_minSize:5,rightDownDiv:null,rightDownOverFlow:{all:"auto",x:"auto",y:"auto"},rightDown_minSize:5,isHorizontal:!0};const shadow=this.attachShadow({mode:"closed"});this.separaterDiv=document.createElement("div"),this.separaterDiv.setAttribute("style","width:100%;height:100%;"),this.separaterDiv.onmousedown=e=>{if(!this.dragInfo.isDrag){if(this.hasAttribute("id-leftUp")){this.target.leftUpDiv=document.getElementById(this.getAttribute("id-leftUp"));const leftUpDiv=this.target.leftUpDiv;this.storeOverflowSetting(this.target.leftUpOverFlow,leftUpDiv)}if(this.hasAttribute("id-rightDown")){this.target.rightDownDiv=document.getElementById(this.getAttribute("id-rightDown"));const rightDownDiv=this.target.rightDownDiv;this.storeOverflowSetting(this.target.rightDownOverFlow,rightDownDiv)}this.target.leftUpDiv&&(this.dragInfo.startX=e.pageX,this.dragInfo.startY=e.pageY,this.dragInfo.isDrag=!0)}},shadow.appendChild(this.separaterDiv),document.addEventListener("mouseup",e=>{this.dragInfo.isDrag=!1,this.target.leftUpDiv&&this.resetOverflowSetting(this.target.leftUpOverFlow,this.target.leftUpDiv),this.target.rightDownDiv&&this.resetOverflowSetting(this.target.rightDownOverFlow,this.target.rightDownDiv)}),document.addEventListener("mousemove",e=>{if(this.dragInfo.isDrag){const leftDiv=this.target.leftUpDiv,rightDiv=this.target.rightDownDiv;if(this.target.isHorizontal){let moveValueX=e.pageX-this.dragInfo.startX,leftWidth,rightWidth;this.dragInfo.startX=e.pageX;const newLeftWidth=leftDiv.clientWidth+moveValueX,newRightWidth=rightDiv.clientWidth-moveValueX;newLeftWidth>=this.target.letftUp_minSize&&newRightWidth>=this.target.rightDown_minSize&&(leftDiv.style.width=newLeftWidth+"px",rightDiv.style.width=newRightWidth+"px")}else{let moveValueY=e.pageY-this.dragInfo.startY,leftHeight,rightHeight;this.dragInfo.startY=e.pageY;const newLeftHeight=leftDiv.clientHeight+moveValueY,newRightHeight=rightDiv.clientHeight-moveValueY;newLeftHeight>=this.target.letftUp_minSize&&newRightHeight>=this.target.rightDown_minSize&&(leftDiv.style.height=newLeftHeight+"px",rightDiv.style.height=newRightHeight+"px")}}})}storeOverflowSetting(store,element){store.all=getComputedStyle(element).overflow,store.x=getComputedStyle(element).overflowX,store.y=getComputedStyle(element).overflowy,element.style.overflow="hidden"}resetOverflowSetting(store,element){element.style.overflow=store.all,element.style.overflowy=store.y,element.style.overflowX=store.x}static get observedAttributes(){return["direction"]}attributeChangedCallback(name,oldValue,newValue){"direction"===name&&(this.target.isHorizontal="vartical"!==newValue,this.target.isHorizontal?this.separaterDiv.style.cursor="col-resize":this.separaterDiv.style.cursor="row-resize")}connectedCallback(){this.hasAttribute("minSize-leftUp")&&(this.target.letftUp_minSize=Number(this.getAttribute("minSize-leftUp").replace("px",""))),this.hasAttribute("minSize-rightDown")&&(this.target.letftUp_minSize=Number(this.getAttribute("minSize-rightDown").replace("px",""))),this.style.width&&(this.separaterDiv.style.width=this.style.width),this.style.height&&(this.separaterDiv.style.height=this.style.height)}},customElements.define("homecook-separater",homeCook.sparaterCtrl),homeCook.tabControl=class extends HTMLElement{constructor(){super(),this.sizes={tabs:3,tab_width:60,tab_height:30,width:246,height:150},this._counter_slotAssigned=0,this.onTabClick=null,this.activeTabIndex=0,this.shadow=this.attachShadow({mode:"closed"}),this.shadow.innerHTML='\n        <style>\n        .tabActive { \n            height: 100%;\n            border-top: 1px solid gainsboro;\n            border-left: 1px solid gainsboro;\n            border-right: 1px solid gainsboro;\n            font-size: 12px;\n            text-align: center;\n            cursor: pointer;\n        }\n\n        .tabNormal {\n            height: 100%;\n            border-right: 1px solid gainsboro;\n            border-left: 1px solid gainsboro;\n            border-top: 1px solid gainsboro;\n            border-bottom: 1px solid gainsboro;\n            font-size: 12px;\n            text-align: center;\n            cursor: pointer;\n        }\n\n        .tabGhost{\n            height: 100%;\n            border-top: 1px solid white;\n            border-bottom: 1px solid gainsboro;\n        }\n\n        .UI-container{\n            height: 100%;\n            width: 100%;\n        }\n        </style>\n\n        \n        <div id="tabPart" style="width: 100%;display:flex;"></div>\n        <div id="containerBase" style="width: 100%;height=100%"></div>\n        '}tabSelecter(index){let cnt=0;for(const item of this.tabAllay)index==cnt?(item.tab.className="tabActive",item.container.style.display="block",this.activeTabIndex=index):(item.tab.className="tabNormal",item.container.style.display="none"),cnt++}renderTabs(numberOfTabs){this.tabAllay=[],this.elements={tabPart:this.shadow.getElementById("tabPart"),tabContainer:this.shadow.getElementById("containerBase")},this.elements.tabContainer.addEventListener("slotchange",e=>{const nodes=e.target.assignedNodes();this.tabAllay[this._counter_slotAssigned].tab.innerText=nodes[0].getAttribute("caption"),this._counter_slotAssigned++}),this.elements.tabPart.style.height=this.sizes.tab_height+"px",this.elements.tabContainer.style.height=this.sizes.height-this.sizes.tab_height+"px";for(let cnt=0;cnt<numberOfTabs;cnt++){const tab=document.createElement("div"),container=document.createElement("div");tab.innerText=`タブ 0${cnt}`,tab.className=0==cnt?"tabActive":"tabNormal",tab.style.width=this.sizes.tab_width+"px";let slot=document.createElement("slot");slot.setAttribute("name",`tab${cnt}`),container.appendChild(slot),container.className="UI-container",container.style.display=0==cnt?"block":"none",tab.onclick=()=>{this.tabSelecter(cnt),this.onTabClick&&"function"==typeof this.onTabClick&&this.onTabClick(cnt)},this.elements.tabPart.appendChild(tab),this.elements.tabContainer.appendChild(container),this.tabAllay.push({tab:tab,container:container})}const ghostDiv=document.createElement("div");ghostDiv.className="tabGhost",ghostDiv.style.width=this.sizes.width-this.sizes.tab_width*numberOfTabs+"px",this.elements.tabPart.appendChild(ghostDiv)}connectedCallback(){let attrValue="";this.hasAttribute("width")&&(attrValue=this.getAttribute("width"),this.sizes.width=Number(this.getAttribute("width").replace("px",""))),this.hasAttribute("tab-height")&&(this.sizes.tab_height=Number(this.getAttribute("tab-height").replace("px",""))),this.hasAttribute("tab-width")&&(this.sizes.tab_width=Number(this.getAttribute("tab-width").replace("px",""))),this.hasAttribute("tabs")&&(this.sizes.tabs=Number(this.getAttribute("tabs")),this.renderTabs(this.sizes.tabs))}},customElements.define("homecook-tab",homeCook.tabControl),homeCook.tableParse=(obj,cssClassNames="",features={})=>{let resultTable=document.createElement("table"),classTR="",classTD_name="",classTD_value="",hrefValue="";cssClassNames instanceof Object?(resultTable.className=cssClassNames.table?cssClassNames.table:"",classTR=cssClassNames.tr?cssClassNames.tr:"",classTD_name=cssClassNames.tdName?cssClassNames.tdName:"",classTD_value=cssClassNames.tdValue?cssClassNames.tdValue:""):cssClassNames&&(resultTable.className=cssClassNames);for(let propName in obj){let tr=document.createElement("tr"),nameTD=document.createElement("td"),valueTD=document.createElement("td");if(classTR&&(tr.className=classTR),classTD_name&&(nameTD.className=classTD_name),classTD_value&&(valueTD.className=classTD_value),nameTD.innerText=propName,obj[propName]instanceof Object){const childClassNames=cssClassNames.child?cssClassNames.child:cssClassNames,childFeatures=features.child?features.child:features;valueTD.appendChild(homeCook.tableParse(obj[propName],childClassNames,childFeatures))}else if(features[propName]){const argObj=features[propName];for(let argPropName in argObj){let argValue=argObj[argPropName];valueTD[argPropName]="function"==typeof argValue?argValue(obj[propName]):argValue.replace(/@value/g,obj[propName])}}else valueTD.innerText=obj[propName];tr.appendChild(nameTD),tr.appendChild(valueTD),resultTable.appendChild(tr)}return resultTable},homeCook.deleteChildrenNodeAll=parent=>{for(;parent.firstChild;)parent.removeChild(parent.lastChild)},homeCook.imgURLfromStream=(responsedStream,endpoint,callBack)=>{(async()=>{const reader=responsedStream.getReader();return new ReadableStream({start(controller){return readChunk();function readChunk(){return reader.read().then(({done:done,value:value})=>{if(!done)return controller.enqueue(value),readChunk();controller.close()})}}})})().then(stream=>new Response(stream)).then(response=>response.blob()).then(blob=>URL.createObjectURL(blob)).then(url=>(callBack(endpoint,url),url)).catch(err=>console.error(err))};